{"ast":null,"code":"import { Subscription } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/blogs.service\";\nimport * as i3 from \"src/app/services/auth-service.service\";\nexport class BlogViewComponent {\n  constructor(route, blogsService, authService) {\n    this.route = route;\n    this.blogsService = blogsService;\n    this.authService = authService;\n    this.formData = {\n      content: '',\n      postedBy: ''\n    };\n    this.userSubscription = new Subscription();\n  }\n  ngOnInit() {\n    const blogId = this.route.snapshot.paramMap.get('blogId') ?? '';\n    if (blogId) {\n      this.blogsService.getBlog(blogId).subscribe(blog => {\n        console.log(blog);\n        this.blog = blog;\n      });\n    }\n    this.userSubscription = this.authService.user$.subscribe(() => {\n      this.setPostedBy();\n    });\n  }\n  setPostedBy() {\n    const user = this.authService.getUser();\n    if (user) {\n      this.formData.postedBy = user;\n    } else {\n      this.formData.postedBy = 'Anonymous';\n    }\n  }\n  onFormChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    if (name in this.formData) {\n      this.formData = {\n        ...this.formData,\n        [name]: value.trim()\n      };\n    }\n  }\n}\nBlogViewComponent.ɵfac = function BlogViewComponent_Factory(t) {\n  return new (t || BlogViewComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.BlogsService), i0.ɵɵdirectiveInject(i3.AuthService));\n};\nBlogViewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BlogViewComponent,\n  selectors: [[\"app-blog-view\"]],\n  decls: 22,\n  vars: 5,\n  consts: [[1, \"blog_view__container\"], [1, \"blog__blog\"], [1, \"blog__header__container\"], [1, \"blog__header\"], [1, \"blog__add_comment\"], [1, \"blog__form__container\"], [1, \"blog__form\"], [\"for\", \"postedBy\"], [\"type\", \"text\", \"name\", \"postedBy\", \"id\", \"postedBy\", \"maxlength\", \"25\", \"required\", \"\", \"disabled\", \"\", 1, \"blogpostform__titleInput\", 3, \"value\", \"change\"], [\"name\", \"content\", \"id\", \"content\", \"placeholder\", \"Your blog's text...\", \"maxlength\", \"500\", \"required\", \"\", 1, \"blogpostform__textInput\", 3, \"change\"]],\n  template: function BlogViewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\");\n      i0.ɵɵtext(5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\");\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"p\");\n      i0.ɵɵtext(9);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(10, \"div\", 2)(11, \"div\", 3)(12, \"span\");\n      i0.ɵɵtext(13, \"Comments\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"span\", 4);\n      i0.ɵɵtext(15, \"Add a comment\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(16, \"div\", 5)(17, \"form\", 6)(18, \"label\", 7);\n      i0.ɵɵtext(19, \" Alias: \");\n      i0.ɵɵelementStart(20, \"input\", 8);\n      i0.ɵɵlistener(\"change\", function BlogViewComponent_Template_input_change_20_listener($event) {\n        return ctx.onFormChange($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"textarea\", 9);\n      i0.ɵɵlistener(\"change\", function BlogViewComponent_Template_textarea_change_21_listener($event) {\n        return ctx.onFormChange($event);\n      });\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.blog.title);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Posted by: \", ctx.blog.postedBy, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.blog.createdAt);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.blog.content);\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"value\", ctx.formData.postedBy);\n    }\n  },\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\tvar __webpack_modules__ = ({\\n\\n 811:\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/postcss-loader/dist/cjs.js):\\\\nSyntaxError\\\\n\\\\n(53:5) C:\\\\\\\\Users\\\\\\\\aaron\\\\\\\\Desktop\\\\\\\\angular-blog\\\\\\\\src\\\\\\\\app\\\\\\\\pages\\\\\\\\blog-view\\\\\\\\blog-view.component.css Unknown word\\\\n\\\\n \\\\u001b[90m 51 | \\\\u001b[39m    width\\\\u001b[33m:\\\\u001b[39m 50%\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m 52 | \\\\u001b[39m    gap\\\\u001b[33m:\\\\u001b[39m \\\\u001b[36mvar\\\\u001b[39m\\\\u001b[36m(--spacing)\\\\u001b[39m\\\\u001b[33m;\\\\u001b[39m\\\\n\\\\u001b[1m\\\\u001b[31m>\\\\u001b[39m\\\\u001b[22m\\\\u001b[90m 53 | \\\\u001b[39m    over\\\\n \\\\u001b[90m    | \\\\u001b[39m    \\\\u001b[1m\\\\u001b[31m^\\\\u001b[39m\\\\u001b[22m\\\\n \\\\u001b[90m 54 | \\\\u001b[39m\\\\u001b[33m}\\\\u001b[39m\\\\n \\\\u001b[90m 55 | \\\\u001b[39m\\\\n\\\");\\n\\n })\\n\\n \\t})[_ngcontent-%COMP%];\\n\\n \\t\\n \\t//[_ngcontent-%COMP%]   startup[_ngcontent-%COMP%]   //[_ngcontent-%COMP%]   Load[_ngcontent-%COMP%]   entry[_ngcontent-%COMP%]   module[_ngcontent-%COMP%]   and[_ngcontent-%COMP%]   return[_ngcontent-%COMP%]   exports[_ngcontent-%COMP%]   //[_ngcontent-%COMP%]   This[_ngcontent-%COMP%]   entry[_ngcontent-%COMP%]   module[_ngcontent-%COMP%]   doesn't[_ngcontent-%COMP%]   tell[_ngcontent-%COMP%]   about[_ngcontent-%COMP%]   it's[_ngcontent-%COMP%]   top-level[_ngcontent-%COMP%]   declarations[_ngcontent-%COMP%]   so[_ngcontent-%COMP%]   it[_ngcontent-%COMP%]   can't[_ngcontent-%COMP%]   be[_ngcontent-%COMP%]   inlined[_ngcontent-%COMP%]   var[_ngcontent-%COMP%]   __webpack_exports__[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] {};\\n \\t__webpack_modules__[811]();\\n \\tresource = __webpack_exports__;\\n \\t\\n })()\\n;\\n/*# sourceMappingURL=blog-view.component.css.map*/\"]\n});","map":{"version":3,"mappings":"AAIA,SAASA,YAAY,QAAQ,MAAM;;;;;AASnC,OAAM,MAAOC,iBAAiB;EAQ5BC,YAAoBC,KAAqB,EAAUC,YAA0B,EAAUC,WAAwB;IAA3F,UAAK,GAALF,KAAK;IAA0B,iBAAY,GAAZC,YAAY;IAAwB,gBAAW,GAAXC,WAAW;IALlG,aAAQ,GAAG;MACTC,OAAO,EAAE,EAAE;MACXC,QAAQ,EAAE;KACX;IAGC,IAAI,CAACC,gBAAgB,GAAG,IAAIR,YAAY,EAAE;EAC5C;EAEAS,QAAQ;IACN,MAAMC,MAAM,GAAG,IAAI,CAACP,KAAK,CAACQ,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,QAAQ,CAAC,IAAI,EAAE;IAC/D,IAAIH,MAAM,EAAE;MACV,IAAI,CAACN,YAAY,CAACU,OAAO,CAACJ,MAAM,CAAC,CAACK,SAAS,CAAEC,IAAU,IAAI;QACzDC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;QACjB,IAAI,CAACA,IAAI,GAAGA,IAAI;MAClB,CAAC,CAAC;;IAGJ,IAAI,CAACR,gBAAgB,GAAG,IAAI,CAACH,WAAW,CAACc,KAAK,CAACJ,SAAS,CAAC,MAAK;MAC5D,IAAI,CAACK,WAAW,EAAE;IACpB,CAAC,CAAC;EACJ;EAEAA,WAAW;IACT,MAAMC,IAAI,GAAG,IAAI,CAAChB,WAAW,CAACiB,OAAO,EAAE;IACvC,IAAID,IAAI,EAAE;MACR,IAAI,CAACE,QAAQ,CAAChB,QAAQ,GAAGc,IAAI;KAC9B,MAAM;MACL,IAAI,CAACE,QAAQ,CAAChB,QAAQ,GAAG,WAAW;;EAExC;EAEAiB,YAAY,CAACC,KAAU;IACrB,MAAM;MAAEC,IAAI;MAAEC;IAAK,CAAE,GAAGF,KAAK,CAACG,MAAM;IACpC,IAAIF,IAAI,IAAI,IAAI,CAACH,QAAQ,EAAE;MACzB,IAAI,CAACA,QAAQ,GAAG;QAAE,GAAG,IAAI,CAACA,QAAQ;QAAE,CAACG,IAAI,GAAGC,KAAK,CAACE,IAAI;MAAE,CAAE;;EAEhE;;AAxCa5B,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAA6B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCb9BC,8BAAkC;MAEtBA,YAAiB;MAAAA,iBAAK;MAC1BA,2BAAK;MAAAA,YAA+B;MAAAA,iBAAM;MAC1CA,2BAAK;MAAAA,YAAqB;MAAAA,iBAAM;MAChCA,yBAAG;MAAAA,YAAmB;MAAAA,iBAAI;MAIlCA,+BAAqC;MAEvBA,yBAAQ;MAAAA,iBAAO;MACrBA,gCAAgC;MAAAA,8BAAa;MAAAA,iBAAO;MAI5DA,+BAAmC;MAGvBA,yBACA;MAAAA,iCAA+K;MAAjEA;QAAA,OAAUC,wBAAoB;MAAA,EAAC;MAA7ID,iBAA+K;MAEnLA,oCAAiK;MAAzDA;QAAA,OAAUC,wBAAoB;MAAA,EAAC;MAA0BD,iBAAW;;;MApBxKA,eAAiB;MAAjBA,oCAAiB;MAChBA,eAA+B;MAA/BA,2DAA+B;MAC/BA,eAAqB;MAArBA,wCAAqB;MACvBA,eAAmB;MAAnBA,sCAAmB;MAegEA,gBAA2B;MAA3BA,6CAA2B","names":["Subscription","BlogViewComponent","constructor","route","blogsService","authService","content","postedBy","userSubscription","ngOnInit","blogId","snapshot","paramMap","get","getBlog","subscribe","blog","console","log","user$","setPostedBy","user","getUser","formData","onFormChange","event","name","value","target","trim","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\aaron\\Desktop\\angular-blog\\src\\app\\pages\\blog-view\\blog-view.component.ts","C:\\Users\\aaron\\Desktop\\angular-blog\\src\\app\\pages\\blog-view\\blog-view.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BlogsService } from '../../services/blogs.service';\nimport { Blog } from 'src/app/Blog';\nimport { Subscription } from 'rxjs'\nimport { AuthService } from 'src/app/services/auth-service.service';\n\n@Component({\n  selector: 'app-blog-view',\n  templateUrl: './blog-view.component.html',\n  styleUrls: ['./blog-view.component.css']\n})\n\nexport class BlogViewComponent implements OnInit {\n  private userSubscription: Subscription;\n  blog: Blog | undefined;\n  formData = {\n    content: '',\n    postedBy: '',\n  }\n\n  constructor(private route: ActivatedRoute, private blogsService: BlogsService, private authService: AuthService) {\n    this.userSubscription = new Subscription();\n  }\n  \n  ngOnInit(): void {\n    const blogId = this.route.snapshot.paramMap.get('blogId') ?? '';\n    if (blogId) {\n      this.blogsService.getBlog(blogId).subscribe((blog: Blog) => {\n        console.log(blog);\n        this.blog = blog;\n      });\n    }\n\n    this.userSubscription = this.authService.user$.subscribe(() => {          \n      this.setPostedBy();\n    });\n  }\n\n  setPostedBy() {\n    const user = this.authService.getUser();\n    if (user) {\n      this.formData.postedBy = user;\n    } else {\n      this.formData.postedBy = 'Anonymous';\n    }\n  }\n\n  onFormChange(event: any) {\n    const { name, value } = event.target;\n    if (name in this.formData) {\n      this.formData = { ...this.formData, [name]: value.trim() };\n    }\n}\n}\n","<div class=\"blog_view__container\">\r\n    <div class=\"blog__blog\">\r\n        <h2>{{ blog!.title }}</h2>\r\n        <div>Posted by: {{ blog!.postedBy }}</div>\r\n        <div>{{ blog!.createdAt }}</div>\r\n        <p>{{ blog!.content }}</p>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"blog__header__container\">\r\n    <div class=\"blog__header\">\r\n        <span>Comments</span>\r\n        <span class=\"blog__add_comment\">Add a comment</span>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"blog__form__container\">\r\n    <form class=\"blog__form\">\r\n        <label for=\"postedBy\">\r\n            Alias:\r\n            <input type=\"text\" name=\"postedBy\" id=\"postedBy\" class=\"blogpostform__titleInput\" [value]=\"formData.postedBy\" (change)=\"onFormChange($event)\" maxlength=\"25\" required disabled>\r\n        </label>\r\n        <textarea name=\"content\" id=\"content\" class=\"blogpostform__textInput\" placeholder=\"Your blog's text...\" (change)=\"onFormChange($event)\" maxlength=\"500\" required></textarea>\r\n    </form>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}