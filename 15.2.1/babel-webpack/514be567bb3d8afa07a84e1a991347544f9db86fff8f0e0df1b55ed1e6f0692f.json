{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Subscription } from 'rxjs';\nlet BlogViewComponent = class BlogViewComponent {\n  constructor(route, blogsService, authService) {\n    this.route = route;\n    this.blogsService = blogsService;\n    this.authService = authService;\n    this.showForm = false;\n    this.formData = {\n      content: '',\n      postedBy: ''\n    };\n    this.userSubscription = new Subscription();\n  }\n  ngOnInit() {\n    const blogId = this.route.snapshot.paramMap.get('blogId') ?? '';\n    if (blogId) {\n      this.blogsService.getBlog(blogId).subscribe(blog => {\n        console.log(blog);\n        this.blog = blog;\n      });\n    }\n    this.userSubscription = this.authService.user$.subscribe(() => {\n      this.setPostedBy();\n    });\n  }\n  setPostedBy() {\n    const user = this.authService.getUser();\n    if (user) {\n      this.formData.postedBy = user;\n    } else {\n      this.formData.postedBy = 'Anonymous';\n    }\n  }\n  onFormChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    if (name in this.formData) {\n      this.formData = {\n        ...this.formData,\n        [name]: value.trim()\n      };\n    }\n  }\n  toggleForm() {\n    this.showForm = !this.showForm;\n  }\n};\nBlogViewComponent = __decorate([Component({\n  selector: 'app-blog-view',\n  templateUrl: './blog-view.component.html',\n  styleUrls: ['./blog-view.component.css']\n})], BlogViewComponent);\nexport { BlogViewComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAIjD,SAASC,YAAY,QAAQ,MAAM;AAS5B,IAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAS5BC,YAAoBC,KAAqB,EAAUC,YAA0B,EAAUC,WAAwB;IAA3F,UAAK,GAALF,KAAK;IAA0B,iBAAY,GAAZC,YAAY;IAAwB,gBAAW,GAAXC,WAAW;IARlG,aAAQ,GAAY,KAAK;IAGzB,aAAQ,GAAG;MACTC,OAAO,EAAE,EAAE;MACXC,QAAQ,EAAE;KACX;IAGC,IAAI,CAACC,gBAAgB,GAAG,IAAIR,YAAY,EAAE;EAC5C;EAEAS,QAAQ;IACN,MAAMC,MAAM,GAAG,IAAI,CAACP,KAAK,CAACQ,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,QAAQ,CAAC,IAAI,EAAE;IAC/D,IAAIH,MAAM,EAAE;MACV,IAAI,CAACN,YAAY,CAACU,OAAO,CAACJ,MAAM,CAAC,CAACK,SAAS,CAAEC,IAAU,IAAI;QACzDC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;QACjB,IAAI,CAACA,IAAI,GAAGA,IAAI;MAClB,CAAC,CAAC;;IAGJ,IAAI,CAACR,gBAAgB,GAAG,IAAI,CAACH,WAAW,CAACc,KAAK,CAACJ,SAAS,CAAC,MAAK;MAC5D,IAAI,CAACK,WAAW,EAAE;IACpB,CAAC,CAAC;EACJ;EAEAA,WAAW;IACT,MAAMC,IAAI,GAAG,IAAI,CAAChB,WAAW,CAACiB,OAAO,EAAE;IACvC,IAAID,IAAI,EAAE;MACR,IAAI,CAACE,QAAQ,CAAChB,QAAQ,GAAGc,IAAI;KAC9B,MAAM;MACL,IAAI,CAACE,QAAQ,CAAChB,QAAQ,GAAG,WAAW;;EAExC;EAEAiB,YAAY,CAACC,KAAU;IACrB,MAAM;MAAEC,IAAI;MAAEC;IAAK,CAAE,GAAGF,KAAK,CAACG,MAAM;IACpC,IAAIF,IAAI,IAAI,IAAI,CAACH,QAAQ,EAAE;MACzB,IAAI,CAACA,QAAQ,GAAG;QAAE,GAAG,IAAI,CAACA,QAAQ;QAAE,CAACG,IAAI,GAAGC,KAAK,CAACE,IAAI;MAAE,CAAE;;EAE9D;EAEAC,UAAU;IACR,IAAI,CAACC,QAAQ,GAAG,CAAC,IAAI,CAACA,QAAQ;EAChC;CACD;AA9CY9B,iBAAiB,eAN7BF,SAAS,CAAC;EACTiC,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,GAEWjC,iBAAiB,CA8C7B;SA9CYA,iBAAiB","names":["Component","Subscription","BlogViewComponent","constructor","route","blogsService","authService","content","postedBy","userSubscription","ngOnInit","blogId","snapshot","paramMap","get","getBlog","subscribe","blog","console","log","user$","setPostedBy","user","getUser","formData","onFormChange","event","name","value","target","trim","toggleForm","showForm","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\aaron\\Desktop\\angular-blog\\src\\app\\pages\\blog-view\\blog-view.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BlogsService } from '../../services/blogs.service';\nimport { Blog } from 'src/app/Blog';\nimport { Subscription } from 'rxjs'\nimport { AuthService } from 'src/app/services/auth-service.service';\n\n@Component({\n  selector: 'app-blog-view',\n  templateUrl: './blog-view.component.html',\n  styleUrls: ['./blog-view.component.css']\n})\n\nexport class BlogViewComponent implements OnInit {\n  showForm: boolean = false;\n  private userSubscription: Subscription;\n  blog: Blog | undefined;\n  formData = {\n    content: '',\n    postedBy: '',\n  }\n\n  constructor(private route: ActivatedRoute, private blogsService: BlogsService, private authService: AuthService) {\n    this.userSubscription = new Subscription();\n  }\n  \n  ngOnInit(): void {\n    const blogId = this.route.snapshot.paramMap.get('blogId') ?? '';\n    if (blogId) {\n      this.blogsService.getBlog(blogId).subscribe((blog: Blog) => {\n        console.log(blog);\n        this.blog = blog;\n      });\n    }\n\n    this.userSubscription = this.authService.user$.subscribe(() => {          \n      this.setPostedBy();\n    });\n  }\n\n  setPostedBy() {\n    const user = this.authService.getUser();\n    if (user) {\n      this.formData.postedBy = user;\n    } else {\n      this.formData.postedBy = 'Anonymous';\n    }\n  }\n\n  onFormChange(event: any) {\n    const { name, value } = event.target;\n    if (name in this.formData) {\n      this.formData = { ...this.formData, [name]: value.trim() };\n    }\n  }\n\n  toggleForm() {\n    this.showForm = !this.showForm;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}